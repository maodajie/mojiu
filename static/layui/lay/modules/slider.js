layui.define("jquery",(function(e){"use strict";var i=layui.jquery,t={config:{},index:layui.slider?layui.slider.index+1e4:0,set:function(e){var t=this;return t.config=i.extend({},t.config,e),t},on:function(e,i){return layui.onevent.call(this,n,e,i)}},a=function(){var e=this,i=e.config;return{setValue:function(t,a){return i.value=t,e.slide("set",t,a||0)},config:i}},n="slider",l="layui-disabled",s="layui-slider-bar",r="layui-slider-wrap",o="layui-slider-wrap-btn",u="layui-slider-tips",d="layui-slider-input-txt",v="layui-slider-hover",c=function(e){var a=this;a.index=++t.index,a.config=i.extend({},a.config,t.config,e),a.render()};c.prototype.config={type:"default",min:0,max:100,value:0,step:1,showstep:!1,tips:!0,input:!1,range:!1,height:200,disabled:!1,theme:"#009688"},c.prototype.render=function(){var e=this,t=e.config;if(t.step<1&&(t.step=1),t.max<t.min&&(t.max=t.min+t.step),t.range){t.value="object"==typeof t.value?t.value:[t.min,t.value];var a=Math.min(t.value[0],t.value[1]),n=Math.max(t.value[0],t.value[1]);t.value[0]=a>t.min?a:t.min,t.value[1]=n>t.min?n:t.min,t.value[0]=t.value[0]>t.max?t.max:t.value[0],t.value[1]=t.value[1]>t.max?t.max:t.value[1];var s=Math.floor((t.value[0]-t.min)/(t.max-t.min)*100),v=Math.floor((t.value[1]-t.min)/(t.max-t.min)*100),c=v-s+"%";s+="%",v+="%"}else{"object"==typeof t.value&&(t.value=Math.min.apply(null,t.value)),t.value<t.min&&(t.value=t.min),t.value>t.max&&(t.value=t.max);c=Math.floor((t.value-t.min)/(t.max-t.min)*100)+"%"}var p=t.disabled?"#c2c2c2":t.theme,m='<div class="layui-slider '+("vertical"===t.type?"layui-slider-vertical":"")+'">'+(t.tips?'<div class="layui-slider-tips"></div>':"")+'<div class="layui-slider-bar" style="background:'+p+"; "+("vertical"===t.type?"height":"width")+":"+c+";"+("vertical"===t.type?"bottom":"left")+":"+(s||0)+';"></div><div class="layui-slider-wrap" style="'+("vertical"===t.type?"bottom":"left")+":"+(s||c)+';"><div class="layui-slider-wrap-btn" style="border: 2px solid '+p+';"></div></div>'+(t.range?'<div class="layui-slider-wrap" style="'+("vertical"===t.type?"bottom":"left")+":"+v+';"><div class="layui-slider-wrap-btn" style="border: 2px solid '+p+';"></div></div>':"")+"</div>",f=i(t.elem),h=f.next(".layui-slider");if(h[0]&&h.remove(),e.elemTemp=i(m),t.range?(e.elemTemp.find("."+r).eq(0).data("value",t.value[0]),e.elemTemp.find("."+r).eq(1).data("value",t.value[1])):e.elemTemp.find("."+r).data("value",t.value),f.html(e.elemTemp),"vertical"===t.type&&e.elemTemp.height(t.height+"px"),t.showstep){for(var y=(t.max-t.min)/t.step,g="",b=1;b<y+1;b++){var x=100*b/y;x<100&&(g+='<div class="layui-slider-step" style="'+("vertical"===t.type?"bottom":"left")+":"+x+'%"></div>')}e.elemTemp.append(g)}if(t.input&&!t.range){var T=i('<div class="layui-slider-input layui-input"><div class="layui-slider-input-txt"><input type="text" class="layui-input"></div><div class="layui-slider-input-btn"><i class="layui-icon layui-icon-up"></i><i class="layui-icon layui-icon-down"></i></div></div>');f.css("position","relative"),f.append(T),f.find("."+d).children("input").val(t.value),"vertical"===t.type?T.css({left:0,top:-48}):e.elemTemp.css("margin-right",T.outerWidth()+15)}t.disabled?(e.elemTemp.addClass(l),e.elemTemp.find("."+o).addClass(l)):e.slide(),e.elemTemp.find("."+o).on("mouseover",(function(){var a="vertical"===t.type?t.height:e.elemTemp[0].offsetWidth,n=e.elemTemp.find("."+r),l=("vertical"===t.type?a-i(this).parent()[0].offsetTop-n.height():i(this).parent()[0].offsetLeft)/a*100,s=i(this).parent().data("value"),o=t.setTips?t.setTips(s):s;e.elemTemp.find("."+u).html(o),"vertical"===t.type?e.elemTemp.find("."+u).css({bottom:l+"%","margin-bottom":"20px",display:"inline-block"}):e.elemTemp.find("."+u).css({left:l+"%",display:"inline-block"})})).on("mouseout",(function(){e.elemTemp.find("."+u).css("display","none")}))},c.prototype.slide=function(e,t,a){var n=this.config,l=this.elemTemp,c=function(){return"vertical"===n.type?n.height:l[0].offsetWidth},p=l.find("."+r),m=l.next(".layui-slider-input"),f=m.children("."+d).children("input").val(),h=100/((n.max-n.min)/Math.ceil(n.step)),y=function(e,i){e=(e=Math.ceil(e)*h>100?Math.ceil(e)*h:Math.round(e)*h)>100?100:e,p.eq(i).css("vertical"===n.type?"bottom":"left",e+"%");var t=g(p[0].offsetLeft),a=n.range?g(p[1].offsetLeft):0;"vertical"===n.type?(l.find("."+u).css({bottom:e+"%","margin-bottom":"20px"}),t=g(c()-p[0].offsetTop-p.height()),a=n.range?g(c()-p[1].offsetTop-p.height()):0):l.find("."+u).css("left",e+"%"),t=t>100?100:t,a=a>100?100:a;var r=Math.min(t,a),o=Math.abs(t-a);"vertical"===n.type?l.find("."+s).css({height:o+"%",bottom:r+"%"}):l.find("."+s).css({width:o+"%",left:r+"%"});var v=n.min+Math.round((n.max-n.min)*e/100);if(f=v,m.children("."+d).children("input").val(f),p.eq(i).data("value",v),l.find("."+u).html(n.setTips?n.setTips(v):v),n.range){var y=[p.eq(0).data("value"),p.eq(1).data("value")];y[0]>y[1]&&y.reverse()}n.change&&n.change(n.range?y:v)},g=function(e){var i=e/c()*100/h,t=Math.round(i)*h;return e==c()&&(t=Math.ceil(i)*h),t},b=i(['<div class="layui-auxiliar-moving" id="LAY-slider-moving"></div'].join("")),x=function(e,t){var a=function(){t&&t(),b.remove()};i("#LAY-slider-moving")[0]||i("body").append(b),b.on("mousemove",e),b.on("mouseup",a).on("mouseleave",a)};if("set"===e)return y(t,a);l.find("."+o).each((function(e){var t=i(this);t.on("mousedown",(function(i){i=i||window.event;var a=t.parent()[0].offsetLeft,s=i.clientX;"vertical"===n.type&&(a=c()-t.parent()[0].offsetTop-p.height(),s=i.clientY);x((function(i){i=i||window.event;var r=a+("vertical"===n.type?s-i.clientY:i.clientX-s);r<0&&(r=0),r>c()&&(r=c());var o=r/c()*100/h;y(o,e),t.addClass(v),l.find("."+u).show(),i.preventDefault()}),(function(){t.removeClass(v),l.find("."+u).hide()}))}))})),l.on("click",(function(e){var t=i("."+o);if(!t.is(event.target)&&0===t.has(event.target).length&&t.length){var a,l="vertical"===n.type?c()-e.clientY+i(this).offset().top:e.clientX-i(this).offset().left;l<0&&(l=0),l>c()&&(l=c());var s=l/c()*100/h;a=n.range?"vertical"===n.type?Math.abs(l-parseInt(i(p[0]).css("bottom")))>Math.abs(l-parseInt(i(p[1]).css("bottom")))?1:0:Math.abs(l-p[0].offsetLeft)>Math.abs(l-p[1].offsetLeft)?1:0:0,y(s,a),e.preventDefault()}})),m.children(".layui-slider-input-btn").children("i").each((function(e){i(this).on("click",(function(){f=m.children("."+d).children("input").val();var i=((f=1==e?f-n.step<n.min?n.min:Number(f)-n.step:Number(f)+n.step>n.max?n.max:Number(f)+n.step)-n.min)/(n.max-n.min)*100/h;y(i,0)}))}));var T=function(){var e=this.value;e=(e=(e=isNaN(e)?0:e)<n.min?n.min:e)>n.max?n.max:e,this.value=e;var i=(e-n.min)/(n.max-n.min)*100/h;y(i,0)};m.children("."+d).children("input").on("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),T.call(this))})).on("change",T)},c.prototype.events=function(){this.config},t.render=function(e){var i=new c(e);return a.call(i)},e(n,t)}));